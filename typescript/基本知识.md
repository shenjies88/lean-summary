## åŸºæœ¬ç±»å‹

- boolean

- number

- string

- array
  
  - `number[]` æˆ–è€… `Array<number>`
  
- tuple
  
  - `let x: [string, number];`
  
- enum

- any

- void
  
  - åªå¯åˆ†é…`null`æˆ–`undefined`
  
- nullå’Œundefined
  
  - æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹
  
- never
  
  - å‡½æ•°æ°¸è¿œæ²¡æœ‰è¿”å›å€¼
  
- symbols
- object

### ç±»å‹æ–­è¨€

   `let strLength: number = (someValue as string).length;`

## å˜é‡å£°æ˜

### varå’Œletçš„åŒºåˆ«

å±€éƒ¨ä½œç”¨åŸŸé—®é¢˜

æ‰“å°10ä¸ª10ï¼ˆæ”¹æˆletå³å¯ï¼‰

```typescript
for (var i = 0; i < 10; i++) {
    setTimeout(function() { console.log(i); }, 100 * i);
}
```

æŒ‰é¡ºåºæ‰“å°

```typescript
for (var i = 0; i < 10; i++) {
    // capture the current state of 'i'
    // by invoking a function with its current value
    (function(i) {
        setTimeout(function() { console.log(i); }, 100 * i);
    })(i);
}
```

## æ¥å£

### æ™®é€šå£°æ˜

```typescript
interface LabeledValue {
    label: string;
}
```

### å¯é€‰å£°æ˜

```typescript
interface SquareConfig {
    color?: string;
    width?: number;
}
```

### ä¸å¯å˜å­—æ®µ

```typescript
interface Point {
    readonly x: number;
    readonly y: number;
}
```

### æ–¹æ³•å­—æ®µå£°æ˜

```typescript
interface SearchFunc {
    (source: string, subString: string): boolean;
}
```

### ä¸‹æ ‡ç´¢å¼•å£°æ˜

```typescript
interface StringArray {
    [index: number]: string;
}

let myArray: StringArray;
myArray = ["Bob", "Fred"];

let myStr: string = myArray[0];
```

## ç±»

- å¯åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ç±»å±æ€§

- è®¿é—®è€…å†™æ³•

  ```typescript
  const fullNameMaxLength = 10;
  
  class Employee {
      private _fullName: string;
  
      get fullName(): string {
          return this._fullName;
      }
  
      set fullName(newName: string) {
          if (newName && newName.length > fullNameMaxLength) {
              throw new Error("fullName has a max length of " + fullNameMaxLength);
          }
          
          this._fullName = newName;
      }
  }
  
  let employee = new Employee();
  employee.fullName = "Bob Smith";
  if (employee.fullName) {
      console.log(employee.fullName);
  }
  ```

## å‡½æ•°

  ### å£°æ˜æ–¹å¼

```typescript
// Named function
function add(x, y) {
    return x + y;
}

// Anonymous function
let myAdd = function(x, y) { return x + y; };

// ç®­å¤´å‡½æ•°
le t myAdd = (x,y) => x + y;
```

### å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°

```typescript
function buildName(firstName: string, lastName?: string) {
    if (lastName)
        return firstName + " " + lastName;
    else
        return firstName;
}

let result1 = buildName("Bob");                  // works correctly now
let result2 = buildName("Bob", "Adams", "Sr.");  // error, too many parameters
let result3 = buildName("Bob", "Adams");

function buildName(firstName: string, lastName = "Smith") {
    return firstName + " " + lastName;
}

let result1 = buildName("Bob");                  // works correctly now, returns "Bob Smith"
let result2 = buildName("Bob", undefined);       // still works, also returns "Bob Smith"
let result3 = buildName("Bob", "Adams", "Sr.");  // error, too many parameters
let result4 = buildName("Bob", "Adams");  
```

### å¤šä¸ªå‚æ•°

```typescript
function buildName(firstName: string, ...restOfName: string[]) {
    return firstName + " " + restOfName.join(" ");
}

let buildNameFun: (fname: string, ...rest: string[]) => string = buildName;
```

## æ³›å‹

### ç±»å‹ä¿¡æ¯çš„ä½¿ç”¨

```typescript
class BeeKeeper {
    hasMask: boolean;
}

class ZooKeeper {
    nametag: string;
}

class Animal {
    numLegs: number;
}

class Bee extends Animal {
    keeper: BeeKeeper;
}

class Lion extends Animal {
    keeper: ZooKeeper;
}

function createInstance<A extends Animal>(c: new () => A): A {
    return new c();
}

createInstance(Lion).keeper.nametag;  // typechecks!
createInstance(Bee).keeper.hasMask;   
```

## æšä¸¾

### æšä¸¾è¿è¡Œæ—¶å®é™…æ—¶å¯¹è±¡

```typescript
enum E {
    X, Y, Z
}
// can actually be passed around to functions

function f(obj: { X: number }) {
    return obj.X;
}

// Works, since 'E' has a property named 'X' which is a number.
f(E);
```

### éå†æšä¸¾key

```typescript
enum LogLevel {
    ERROR, WARN, INFO, DEBUG
}

/**
 * This is equivalent to:
 * type LogLevelStrings = 'ERROR' | 'WARN' | 'INFO' | 'DEBUG';
 */
type LogLevelStrings = keyof typeof LogLevel;

function printImportant(key: LogLevelStrings, message: string) {
    const num = LogLevel[key];
    if (num <= LogLevel.WARN) {
       console.log('Log level key is: ', key);
       console.log('Log level value is: ', num);
       console.log('Log level message is: ', message);
    }
}
printImportant('ERROR', 'This is a message');
```

### å¸¸é‡æšä¸¾å’Œè®¡ç®—æšä¸¾

```typescript
enum FileAccess {
    // constant members
    None,
    Read    = 1 << 1,
    Write   = 1 << 2,
    ReadWrite  = Read | Write,
    // computed member
    G = "123".length
}
```

## ç±»å‹æ¨æ–­

### åŸºæœ¬çš„æ—¶æœº

- åˆå§‹åŒ–å˜é‡ã€æˆå‘˜
- è®¾ç½®å‚æ•°é»˜è®¤å€¼
- ç¡®å®šæ–¹æ³•è¿”å›ç±»å‹

### æ•°ç»„æ¨æ–­

- æœ€å…¬å…±çš„ç±»å‹æ¥æ»¡è¶³æ•°ç»„ä¸­å„ä¸ªä¸‹æ ‡
- å¯æ˜¾ç¤ºæ‰‹åŠ¨è®¾ç½®

### ä¸Šä¸‹æ–‡æ¨æ–­

- åœ¨ç»™å‡½æ•°èµ‹å€¼æ—¶ï¼Œæ™ºèƒ½æ¨æ–­ä¸Šä¸‹æ–‡å‚æ•°

## ç±»å‹å…¼å®¹

### å‡½æ•°æ¯”è¾ƒ

- å‚æ•°å…¼å®¹

### æšä¸¾æ¯”è¾ƒ

- å¯¹äºæ•°å­—å…¼å®¹ï¼Œæ¥è‡ªä¸åŒçš„æšä¸¾æ˜¯ä¸å…¼å®¹çš„

### ç±»æ¯”è¾ƒ

- åªè€ƒè™‘å®ä¾‹éƒ¨åˆ†
- ä¸è€ƒè™‘é™æ€éƒ¨åˆ†å’Œæ„é€ å‡½æ•°

### æ³›å‹æ¯”è¾ƒ

- åœ¨æ²¡æœ‰ç”¨åˆ°ç±»å‹å‚æ•°æ—¶ï¼Œåªè€ƒè™‘æˆå‘˜ç»“æ„æ˜¯å¦ç›¸ç­‰
- ç”¨åˆ°ç±»å‹å‚æ•°æ—¶ï¼Œè¿˜éœ€è€ƒè™‘ç±»å‹å‚æ•°æ˜¯å¦ç›¸åŒ

## é«˜çº§ç±»å‹

[è‡ªå·±çœ‹å§ğŸ˜Š](https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types)

## ç¬¦å·ï¼ˆSymbolï¼‰

å‚è€ƒ[ECMAScript 2015](https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_2015_support_in_Mozilla)

## è¿­ä»£å™¨

for..ofå’Œfor..inåŒºåˆ«

```typescript
let list = [4, 5, 6];

for (let i in list) {
    console.log(i); // "0", "1", "2",
}

for (let i of list) {
    console.log(i); // "4", "5", "6"
}
```

## è£…é¥°å™¨

### ç±»è£…é¥°å™¨

åœ¨ç¼–è¯‘æ—¶å¯¹æ„é€ å‡½æ•°ä¿®æ”¹

```typescript
function sealed(constructor: Function) {
    Object.seal(constructor);
    Object.seal(constructor.prototype);
}

@sealed
class MyClass {
    a: number = 0;
    b: string = "hello";
}

var obj = new MyClass();
// obj.c = true; // ç¼–è¯‘æŠ¥é”™
```

### æ–¹æ³•è£…é¥°å™¨

å¯¹æ–¹æ³•åšä¿®æ”¹ï¼Œåªåœ¨è§£é‡Šç±»çš„å¯¹åº”æ–¹æ³•æ—¶è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œè£…é¥°å™¨æ–¹æ³•çš„è°ƒç”¨åªä¼šåœ¨åŠ è½½ä»£ç æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œè°ƒç”¨è¢«è£…é¥°çš„æ–¹æ³•ä¸ä¼šå‡ºå‘è£…é¥°å™¨æ–¹æ³•

```typescript
function methodDecorator(param1: boolean, param2?: string) {
    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
        console.log(param1 + ", " + param2 + ", " + target + ", " + propertyKey + ", " + JSON.stringify(descriptor));
    };
}

class MyClass {
    @methodDecorator(true, "this is static")
    public static sFunc(): void {
        console.log("call static method");
    }

    @methodDecorator(false)
    public func(): void {
        console.log("call method");
    }
}

MyClass.sFunc();
MyClass.sFunc();

var obj = new MyClass();
obj.func();
obj.func();

false, undefined, [object Object], func, {"writable":true,"enumerable":true,"configurable":true}
true, this is static, function MyClass() {
    }, sFunc, {"writable":true,"enumerable":true,"configurable":true}
call static method
call static method
call method
call method
```

### è®¿é—®å™¨

ç±»ä¼¼æ–¹æ³•è£…é¥°å™¨

```typescript
function methodDecorator(param1: boolean, param2?: string) {
    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
        console.log(param1 + ", " + param2 + ", " + target + ", " + propertyKey + ", " + JSON.stringify(descriptor));
    };
}

class MyClass {
    private static _myName: string;

    @methodDecorator(true, "this is static")
    public static set myName(value: string) {
        this._myName = value;
    }

    public static get myName(): string {
        return this._myName;
    }

    private _age: number;

    @methodDecorator(false)
    public set age(value: number) {
        this._age = value;
    }

    public get age(): number {
        return this._age;
    }
}

MyClass.myName = "hello";
console.log(MyClass.myName);

var obj = new MyClass();
obj.age = 28;
console.log(obj.age);

1 false, undefined, [object Object], age, {"enumerable":true,"configurable":true}
2 true, this is static, function MyClass() {
3     }, myName, {"enumerable":true,"configurable":true}
4 hello
5 28
```

### å‚æ•°è£…é¥°å™¨

```typescript
function paramDecorator(target: Object, propertyKey: string | symbol, parameterIndex: number) {
    console.log(target + ", " + <any> propertyKey + ", " + parameterIndex);
}

class MyClass {
    public func(@paramDecorator a: number, @paramDecorator b: string = "hello", @paramDecorator c?: boolean): void {
        console.log("call method");
    }
}

var obj = new MyClass();
obj.func(1);
obj.func(2);

1 [object Object], func, 2
2 [object Object], func, 1
3 [object Object], func, 0
4 call method
5 call method
```

